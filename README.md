# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```


## Проектирование 

Эта схема представляет собой архитектуру клиентской части веб-приложения, описанную на языке UML (Unified Modeling Language). Давайте рассмотрим основные компоненты и их взаимодействие.

### Основные классы (Базовые классы)

1. **Component<T>**
   - Представляет базовый компонент с различными элементами HTML и методами для управления ими.
   - Методы:
     - `toggleClass()`: Переключение класса элемента.
     - `setText()`: Установка текста элемента.
     - `setDisable()`: Отключение элемента.
     - `setHidden()`: Скрытие элемента.
     - `setVisible()`: Отображение элемента.
     - `setImage()`: Установка изображения элемента.
     - `render()`: Отображение данных.

2. **View<T>**
   - Базовый класс для всех представлений, наследует Component.
   - Содержит контейнер и события.
    
### Классы

1. **WebLarekAPI**
   - Класс для взаимодействия с WebLarek API, реализует интерфейс IWebLarekAPI.
   - Свойства:
     - `cdn`: URL контентной сети доставки.

2. **EventEmitter**
   - Класс для управления событиями, реализует интерфейс IEvents.
   - Методы:
     - `onAll()`: Подписка на все события.
     - `offAll()`: Отписка от всех событий.
       
3. **AppData**
   - Класс для управления данными приложения.
   - Свойства:
     - `items`: Список продуктов.
     - `preview`: Предпросмотр продукта.
     - `basket`: Корзина.
     - `order`: Заказ.
     - `formErrors`: Ошибки формы.
     - `events`: События.
   - Методы:
     - `setItems()`: Установка списка продуктов.
     - `setPreviewItem()`: Установка продукта для предпросмотра.
     - `isInBasket()`: Проверка наличия продукта в корзине.
     - `addToBasket()`: Добавление продукта в корзину.
     - `removeFromBasket()`: Удаление продукта из корзины.
     - `clearBasket()`: Очистка корзины.
     - `setPaymentMethod()`: Установка метода оплаты.
     - `setOrderField()`: Установка поля заказа.
     - `validateOrder()`: Валидация заказа.
     - `clearOrder()`: Очистка заказа.

4. **Page**
   - Представление страницы.
   - Свойства:
     - `counter`: Счетчик.
     - `catalog`: Каталог.
     - `wrapper`: Обертка.
     - `basket`: Корзина.
   - Методы:
     - `counter()`: Управление счетчиком.
     - `catalog()`: Управление каталогом.
     - `locked()`: Управление блокировкой.

5. **Basket**
   - Представление корзины.
   - Свойства:
     - `items`: Элементы корзины.
     - `list`: Список элементов.
     - `total`: Общая стоимость.
     - `button`: Кнопка управления.
   - Методы:
     - `toggleButton()`: Переключение состояния кнопки.
     - `setItems()`: Установка элементов корзины.
     - `total()`: Расчет общей стоимости.

6. **Card**
   - Представление карточки продукта.
   - Свойства:
     - `title`: Заголовок.
     - `image`: Изображение.
     - `price`: Цена.
     - `description`: Описание.
     - `category`: Категория.
     - `button`: Кнопка.
   - Методы:
     - `toggle()`: Переключение состояния.
     - `setTitle()`: Установка заголовка.
     - `setPrice()`: Установка цены.
     - `setDescription()`: Установка описания.
     - `setImage()`: Установка изображения.
     - `button()`: Управление кнопкой.

7. **Form**
   - Представление формы.
   - Свойства:
     - `submit`: Кнопка отправки.
     - `errors`: Ошибки формы.
   - Методы:
     - `inputChange()`: Обработка изменения ввода.
     - `submit()`: Отправка формы.
     - `setVisible()`: Установка видимости.
     - `errors()`: Обработка ошибок.

8. **OrderForm**
   - Форма заказа.
   - Свойства:
     - `_paymentCard`: Кнопка оплаты картой.
     - `_paymentCash`: Кнопка оплаты наличными.
     - `address`: Адрес доставки.
   - Методы:
     - `OrderForm()`: Конструктор.
     - `setPaymentValue()`: Установка значения оплаты.
     - `address()`: Установка адреса.

9. **Success**
   - Представление успешного завершения операции.
   - Свойства:
     - `close`: Кнопка закрытия.
     - `total`: Общая сумма.
   - Методы:
     - `Success()`: Конструктор.
     - `total()`: Расчет общей суммы.

10. **Modal**
   - Модальное окно.
   - Свойства:
     - `closeButton`: Кнопка закрытия.
     - `content`: Содержимое модального окна.
   - Методы:
     - `open()`: Открытие модального окна.
     - `close()`: Закрытие модального окна.
     - `render()`: Отображение данных.

11. **ContactsForm**
   - Форма контактов.
   - Свойства:
     - `submit`: Кнопка отправки.
     - `name`: Поле ввода имени.
   - Методы:
     - `ContactsForm()`: Конструктор.

### Интерфейсы
1. **Api**
   - Интерфейс для взаимодействия с API.
   - Методы:
     - `get()`: Выполнение GET-запроса.
     - `post()`: Выполнение POST-запроса.
     - `handleResponse()`: Обработка ответа от сервера.

2. **IEvents** (Интерфейс)
   - Интерфейс для работы с событиями.
   - Методы:
     - `on()`: Подписка на событие.
     - `emit()`: Испускание события.
     - `trigger()`: Вызов события.

3. **IWebLarekAPI** (Интерфейс)
   - Интерфейс для взаимодействия с WebLarek API.
   - Методы:
     - `getProductList()`: Получение списка продуктов.
     - `getProduct()`: Получение продукта по ID.
     - `createOrder()`: Создание заказа.

### Взаимодействие классов

- **EventEmitter** используется для управления событиями в различных компонентах.
- **Api** взаимодействует с **WebLarekAPI** для выполнения запросов к серверу.
- **AppData** управляет состоянием приложения и взаимодействует с различными представлениями, такими как **Page**, **Basket**, и **Card**.
- **Forms** используются для обработки пользовательских данных и управления формами, такими как **OrderForm** и **ContactsForm**.

Эта архитектура предоставляет структурированный подход к разработке клиентской части веб-приложения, обеспечивая модульность, переиспользуемость и управляемость кода.


https://github.com/Max-Konovalov/web-larek-frontend/blob/main/README.md
